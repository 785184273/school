<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<input type="button" name="add" id="add" value="添加" />
		<ul id = "ul">
			<li>111</li>
			<li>222</li>
			<li>333</li>
			<li>444</li>
		</ul>
		<script type="text/javascript">
			var ulObj = document.getElementById("ul");
			var liObj = document.getElementsByTagName("li");
//			for(var i = 0; i < liObj.length;++i){	//注意：当不使用事件委托的时候，ul标签新增加的li标签没有绑定onclick事件，就算点击背景颜色也不会改变
//				liObj[i].index = i;
//				liObj[i].onclick = function (){
//					this.style.background = "red";
//					console.log(this.index);
//				}
//			}
			
			//当使用事件委托的时候,ul标签中新增加的标签绑定了onclick事件，而且使用事件委托的时候，性能也提高了不少，比如：如果一个页面中有很多个li标签，我们都需要在li标签上面绑定事件，使用for循环，然而使用事件委托则只需要在一个标签上绑定事件
			ulObj.onclick = function(event){//注意：this和target不一样，this始终等于currentTarget，表示事件处理程序当前正在处理事件的那个函数，target表示事件的实际目标
				var e = event ? event : window.event;
				var target = e.target ? e.target : e.srcElement;
				target.style.backgroundColor = "red";
			}
			var addObj = document.getElementById("add");
			add.onclick = function (){
				var li = document.createElement("li");
				li.innerHTML = "233";
				ulObj.appendChild(li);
			}
		</script>
	</body>
</html>
