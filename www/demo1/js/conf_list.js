function object(){this.getId=function(e){return document.getElementById(e)},this.getTagname=function(e){return document.getElementsByTagName(e)},this.createnode=function(e){return document.createElement(e)},this.getclassname=function(e){return document.getElementsByClassName(e)}}function changef1(){doc.getId("obj_w").setAttribute("class,active"),doc.getId("doc_w").setAttribute("class,' '");var e=doc.getId("err_list"),t=doc.getId("doc_list"),d=doc.getId("doc_table"),n=doc.getId("select"),o=doc.getId("key_table"),c=doc.getId("num"),a=doc.getId("addobj");c.style.display="block",n.style.display="block",e.style.display="block",t.style.display="none",d.style.display="none",o.style.display="block",a.style.display="block"}function changef2(){doc.getId("obj_w").setAttribute("class,' '"),doc.getId("doc_w").setAttribute("class,active");var e=doc.getId("err_list"),t=doc.getId("doc_list"),d=doc.getId("select"),n=doc.getId("doc_table"),o=doc.getId("key_table"),c=doc.getId("num"),a=doc.getId("addobj");c.style.display="none",d.style.display="block",e.style.display="none",t.style.display="block",n.style.display="block",o.style.display="none",a.style.display="none"}function createKey(){trObj=doc.createnode("tr");var e=(doc.getId("key_table"),doc.getTagname("tbody")[0]),t=doc.getId("num"),d=doc.getTagname("tr"),n=d.length;t.innerHTML="总计"+(n-2)+"条",e.appendChild(trObj),e.appendChild(trObj),createtd1(),createtd2(),createtd3(),operation()}function createtd1(){var e=doc.createnode("td"),t=doc.createnode("span"),d=doc.createnode("input");trObj.appendChild(e),e.appendChild(t),e.appendChild(d),e.width="350px;",d.setAttribute("class","form-control"),d.type="text",d.setAttribute("maxlength","32"),e.style.border="1px solid #dddddd",d.focus()}function createtd2(){var e=doc.createnode("td"),t=document.createTextNode(getDate());trObj.appendChild(e),e.appendChild(t),e.style.border="1px solid #dddddd"}function createtd3(){for(var e=doc.createnode("td"),t=["编辑","删除","保存"],d=["btn-default","btn-danger","btn-success"],n=["input","del","pre"],o=t.length,c=0;c<o;c++){var a=document.createTextNode(t[c]),l=doc.createnode("button");l.setAttribute("class","btn "+d[c]+" btn-xs "+n[c]),l.value=t[c],l.type="button",l.style.marginRight="4px",e.appendChild(l),l.appendChild(a)}trObj.appendChild(e),e.style.border="1px solid #dddddd"}function getDate(){var e=new Date,t=e.getFullYear(),d=e.getMonth()+1,n=e.getDay(),o=e.getHours(),c=e.getMinutes(),a=e.getSeconds();return a<10&&(a="0"+a),o<10&&(o="0"+o),d<10&&(d="0"+d),n<10&&(n="0"+n),c<10&&(c="0"+c),t+"-"+d+"-"+n+" "+o+":"+c+":"+a}function operation(){for(var e=doc.getclassname("del"),t=doc.getclassname("pre"),d=doc.getclassname("input"),n=e.length,o=0;o<n;++o)e[o].onclick=f1(o),t[o].onclick=f2(o),d[o].onclick=f3(o)}function f2(e){function t(){var t=doc.getTagname("span")[e+1],d=doc.getTagname("input")[e+1];t.innerHTML=d.value,d.style.display="none"}return t}function f3(e){function t(){var t=doc.getTagname("span")[e+1],d=doc.getTagname("input")[e+1];d.value=t.innerHTML,d.style.display="block",d.focus(),t.innerHTML=""}return t}function f1(e){function t(){if(window.confirm("你真的要删除吗？")){var e=event.srcElement?event.srcElement:event.target,t=doc.getTagname("tr")[e.parentElement.parentNode.rowIndex],d=doc.getTagname("tbody")[0],n=doc.getId("num");d.removeChild(t);var o=doc.getTagname("tr"),c=o.length;n.innerHTML="总计"+(c-3)+"条"}}return t}var doc=new object;window.onload=function(){var e=doc.getId("obj_w"),t=doc.getId("doc_w"),d=doc.getId("doc_list"),n=doc.getId("addobj"),o=doc.getId("doc_table");n.onclick=createKey,e.onclick=changef1,t.onclick=changef2,d.style.display="none",o.style.display="none"};