<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
	</head>
	<body>
		<div class = "wapper">
			<div class = "direct">
				<span class = "left" onclick = "carousel.show(1)" onmouseover = "carousel.mouseover()" onmouseout = "carousel.mouseout()"></span>
				<span class = "right" onclick = "carousel.show(-1)"  onmouseover = "carousel.mouseover()" onmouseout = "carousel.mouseout()"></span>
			</div>
			<div class = "show">
				<ul>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
					<li style = "margin-left: 41.2px;">
						<img src="img/图层-4-副本-4.jpg"/>
						<p class = "name">田凯文 KEVIN</p>
						<p class = "post">众智联邦创始人/董事长<p>
					</li>
				</ul>
			</div>
		</div>
		<script type="text/javascript">
		var n = 0;
		carousel = function (direct){
			var boxn = 4,	//滚动展示盒子的容量（展示的个数）
				direct = direct || 0,
				liObj = document.getElementsByClassName("show")[0].getElementsByTagName("li"),
				ulObj = document.getElementsByClassName("show")[0].getElementsByTagName("ul")[0],
				liMargin = liObj[0].style.marginLeft.split("px")[0],
				directObj = document.getElementsByClassName("direct")[0].getElementsByTagName("span"),
				i = liObj.length - boxn,
				timer,
				obj = {};
				//ul的宽度
				console.log(i);
				ulObj.style.width = liObj.length * (liObj[0].offsetWidth + liMargin * 2) + "px";
				obj.show = function (direct){
					if(direct < 0){
						if(-i < n){
							n--;
							console.log(n)
							ulObj.style.marginLeft = n  * (liObj[0].offsetWidth + liMargin * 2) + "px";
						}
					}else if(direct > 0){
						if(n < 0){
							n++;
							console.log(n)
							ulObj.style.marginLeft = n  * (liObj[0].offsetWidth + liMargin * 2) + "px";
						}		
					}
				};
				var loop = function (){
					timer = setInterval(function (){
						n--;
						console.log(n)
						if(-n > i){
							n = 0;
						}
						ulObj.style.marginLeft = n * (liObj[0].offsetWidth + liMargin * 2) + "px";
					},1000)
				}
				obj.mouseover = function (){
					clearInterval(timer);
				}
				obj.mouseout = function (){
					loop();
				}
				var ppt = function (){
					loop();
					ulObj.onmouseover = obj.mouseover;
					ulObj.onmouseout = obj.mouseout;
				}();

				return obj;
		}();
		console.log(carousel)
		</script>
	</body>
</html>
